<div class="container mt-3">
  <h4 class="mb-3">メッセージ</h4>

  <div class="card mb-3">
    <div class="card-body">
      <% @messages.each do |message| %>
        <p>
          <strong><%= message.sender.username %>:</strong> <%= message.content %>
        </p>
      <% end %>
    </div>
  </div>

  <%= form_with model: @message, url: messages_path, method: :post, local: true, html: {class: "needs-validation", novalidate: true} do |f| %>
    <%= f.hidden_field :conversation_id, value: @conversation.id %>
    <div class="form-group">
      <%= f.label :content, "メッセージ", class: "form-label" %>
      <%= f.text_area :content, cols: 40, rows: 5, class: "form-control" %>
    </div>
    <div class="form-group">
      <%= f.submit "送信", class: "btn btn-custom" %>
    </div>
  <% end %>

  <div class="mt-2">
    <%= link_to "戻る", user_path(@conversation.sender_id == current_user.id ? @conversation.receiver_id : @conversation.sender_id), class: "btn btn-secondary" %>
  </div>
</div>
